{"version":3,"sources":["../../build/js/style-editor.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length","module","selfCalling","ithoughts","$","itg","iThoughtsTooltipGlossary","$themeName","$themeSelect","$d","ready","onDocumentReady","qtip","show","ajaxCallback","res","valid","hasOwnProperty","log","styleTag","parseHTML","append","innerHTML","css","updateStyle","theme_name","error","name","val","find","change","simple_ajax_callback","onThemeChange","parent","prop","value","iThoughts","v5"],"mappings":"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","file":"style-editor.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n/**\n * @file Client-side style-editor logic\n *\n * @author Gerkin\n * @copyright 2016 GerkinDevelopment\n * @license https://www.gnu.org/licenses/gpl-3.0.html GPLv3\n * @package ithoughts-tooltip-glossary\n *\n * @version 2.7.0\n */\n\n'use strict';\n\n( function selfCalling( ithoughts ) {\n\tvar $ = ithoughts.$,\n\t\titg = iThoughtsTooltipGlossary,\n\t\t$themeName,\n\t\t$themeSelect;\n\n\tithoughts.$d.ready( function onDocumentReady() {\n\t\t$themeSelect = $( '[name=\"theme_select\"]' );\n\t\t$themeName = $( '[name=\"theme_name\"]' );\n\t\t$( '[data-tip-id=\"exampleStyle\"]' ).qtip( 'api' ).show();\n\t\tvar ajaxCallback = function ajaxCallback( res ) {\n\t\t\tif ( res.valid ) {\n\t\t\t\tif ( res.hasOwnProperty( 'css' ) && res.hasOwnProperty( 'theme_name' )) {\n\t\t\t\t\t// This is a preview\n\t\t\t\t\ttry {\n\t\t\t\t\t\titg.log( 'Received CSS response from server:', res );\n\t\t\t\t\t\tvar styleTag = $( '#ithoughts_tt_gl-custom_theme' );\n\t\t\t\t\t\tif ( 0 === styleTag.length ) {\n\t\t\t\t\t\t\tstyleTag = $( $.parseHTML( '<style id=\"ithoughts_tt_gl-custom_theme\"></style>' ));\n\t\t\t\t\t\t\t$( 'body' ).append( styleTag );\n\t\t\t\t\t\t}\n\t\t\t\t\t\tstyleTag[0].innerHTML = res.css;\n\n\t\t\t\t\t\titg.updateStyle( true, res.theme_name, $( '#qtip-exampleStyle' ));\n\t\t\t\t\t} catch ( e ) {\n\t\t\t\t\t\titg.error( 'Error during setting preview style:', e );\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t// This is a save\n\t\t\t\t\tvar name = $themeName.val();\n\t\t\t\t\tif ( 0 === $themeSelect.find( `option[value=\"${ name }\"]` ).length ) {\n\t\t\t\t\t\t$themeSelect.append( `<option value=\"${ name }\">${ name }</option>` );\n\t\t\t\t\t\t$themeSelect.val( name ).change();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\titg.error( 'Error while getting preview style', res );\n\t\t\t}\n\t\t};\n\t\t$( '#LESS-form' )[0].simple_ajax_callback = ajaxCallback;\n\t\t$themeSelect.change( function onThemeChange() {\n\t\t\t$( this ).parent().find( 'button' ).prop( 'disabled', !this.value );\n\t\t}).change();\n\t});\n})( iThoughts.v5 );\n\n},{}]},{},[1]);\n"]}