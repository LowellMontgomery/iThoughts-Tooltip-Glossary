{"version":3,"sources":["../../build/js/main.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length","module","htmlAttrs","maybePrefixAttribute","includes","attrName","startsWith","extractAttrs","ret","Array","prototype","slice","node","attributes","forEach","attr","nodeName","nodeValue","generateTakeAttr","attrs","tagName","label","defaultValue","noDataPrefix","hasOwnProperty","val","get","object","path","defaulted","segment","isTrueValue","toLowerCase","htmlEncode","$","text","str","html","htmlDecode","comon","OptArray","ithoughts","iThoughts","v5","itg","iThoughtsTooltipGlossary","$w","$d","isNA","extend","$tooltipsContainer","parseHTML","document","body","append","types","redimWait","initLoggers","verbosity","replaceQuotes","string","encode","replace","linksTouch","Map","linksExpanded","WeakMap","bind","touch","link","$link","event","target","closest","set","triggerHandler","qTipEventHandlers","click","in","preventDefault","out","responsive","tap","touchstart","touchend","mousein","mouseout","doTipRender","renderFcts","props","api","css","maxWidth","prop","animDuration","renderFct","renderHooks","hook","getRedimInfos","element","src","match","redimVid","warn","bindLockOnPinClick","elements","title","find","clickPinKeepOpen","toggleClass","hasClass","disable","enable","defaultComonTipOptions","prerender","suppress","position","viewport","effect","container","show","solo","hide","leave","doInitTooltips","evts","start","isIos","end","cursor","$tooltipLinks","map","type","join","log","each","index","tooltipLink","takeAttr","$tooltipLink","qTipConfigComponents","qtiptrigger","push","mouseleave","baseTouch","animationFunctions","none","tipStyle","qtipstyle","classes","tipShadow","qtipshadow","tipRounded","qtiprounded","at","my","events","render","anims","duration","textContent","content","tipClasses","split","concat","info","contenttype","glossaryId","glossaryContent","ajaxPostData","action","_ajax_nonce","nonce","lang","qtip","pleasewait_ajaxload","ajax","url","admin_ajax","data","loading","success","resp","refresh_nonce","adjust","scroll","reposition","source","caption","alt","filters","opts","filter","toString","replacedText","trim","$video","redimedInfos","console","style","width","ready","id","fixed","delay","tooltipOpts","v","removeAttr","dom2string","who","tmp","createElement","resize","waitStopRedimVideoRedim","clearTimeout","setTimeout","video","h","height","w","dims","Math","min","max","optDims","replaceVideoTip","state","disabled","addClass","onDocumentReady","easing","easeInBack","x","b","c","d","easeOutBack","zoomin","$tooltip","$tip","tip","animate","z","progress","infos","percent","timeLeft","factorProgress","swing","origFactor","destFactor","scale","advance","origin","left","top","done","promise","killed","appear","display","opacity","unhook","flee","zoomout","disappear","key","addOpt","value","specEncode","String","addValue","name","Object","keys","generateAttr"],"mappings":"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","file":"main.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n'use strict';\n\nconst htmlAttrs = ['href', 'title'];\n\nconst maybePrefixAttribute = attrName => {\n\t// If the key is not an HTML attribute and is not `data-` prefixed, prefix it\n\tif ( !htmlAttrs.includes(attrName) && !attrName.startsWith('data-')) {\n\t\treturn `data-${  attrName  }`;\n\t} else {\n\t\treturn attrName;\n\t}\n};\n\nconst extractAttrs = node => {\n\tconst ret = {};\n\tArray.prototype.slice.call(node.attributes, 0).forEach(attr => {\n\t\tret[attr.nodeName] = attr.nodeValue;\n\t});\n\treturn ret;\n};\n\nconst generateTakeAttr = attrs => {\n\t// If we received a node instead of an object, extract its attributes\n\tif(attrs.tagName){\n\t\tattrs = extractAttrs(attrs);\n\t}\n\t// Return the picker function\n\treturn ( label, defaultValue, noDataPrefix = false ) => {\n\t\tif ( !noDataPrefix ) {\n\t\t\tlabel = maybePrefixAttribute(label);\n\t\t}\n\t\tif(attrs.hasOwnProperty(label)){\n\t\t\tconst val = attrs[label];\n\t\t\tdelete attrs[label];\n\t\t\treturn val;\n\t\t} else {\n\t\t\treturn defaultValue;\n\t\t}\n\t};\n};\n\nconst get = (object, path, defaultValue) => {\n\tlet defaulted = false;\n\tpath.forEach(segment => {\n\t\tif(typeof object !== 'undefined' && object.hasOwnProperty(segment)){\n\t\t\tobject = object[segment];\n\t\t} else {\n\t\t\tdefaulted = true;\n\t\t}\n\t});\n\tif(defaulted){\n\t\treturn defaultValue;\n\t} else {\n\t\treturn object;\n\t}\n}\n\nconst isTrueValue = val => {\n\tif(typeof val === 'string' && (val === '1' || val.toLowerCase() === 'true')){\n\t\treturn true;\n\t} else if(typeof val === 'number'){\n\t\treturn val > 0;\n\t}\n\treturn false;\n}\n\nconst htmlEncode = str => $( '<textarea />' ).text( str ).html();\nconst htmlDecode = str => $( '<textarea />' ).html( str ).text();\n\nmodule.exports = {\n\tmaybePrefixAttribute,\n\textractAttrs,\n\tgenerateTakeAttr,\n\tget,\n\tisTrueValue,\n\thtmlEncode,\n\thtmlDecode,\n};\n},{}],2:[function(require,module,exports){\n/**\n * @file Interface between plugin formatted data and qTip API\n *\n * @author Gerkin\n * @copyright 2016 GerkinDevelopment\n * @license https://www.gnu.org/licenses/gpl-3.0.html GPLv3\n * @package ithoughts-tooltip-glossary\n *\n * @version 2.7.0\n */\n\n'use strict';\n\nconst comon = require('./comon');\nconst OptArray = require('./optarray');\n\nconst ithoughts = iThoughts.v5;\nconst itg       = iThoughtsTooltipGlossary;\n\nconst { $, $w, $d, isNA } = ithoughts;\nconst extend = $.extend;\n\nconst $tooltipsContainer = $( $.parseHTML( `<div id=\"itg-tipsContainer\" class=\"itg-tipsContainer\"></div>` ));\n$( document.body ).append( $tooltipsContainer );\nconst types = [\n\t'glossary',\n\t'tooltip',\n\t'mediatip',\n];\n\nlet redimWait;\n\nithoughts.initLoggers( itg, 'iThoughts Tooltip Glossary', itg.verbosity );\n\n/**\n\t * @function replaceQuotes\n\t * @description Encode or decode string with pseudo-html encoded quote\n\t * @memberof ithoughts_tooltip_glossary\n\t * @param {string} string String to encode or decode\n\t * @param {boolean} encode True to encode, false to decode\n\t * @returns {string} Encoded or decoded string\n\t * @author Gerkin\n\t */\nitg.replaceQuotes = ( string, encode ) => {\n\tif ( typeof string != 'string' ) {\n\t\treturn '';\n\t}\n\tif ( encode ) {\n\t\treturn string.replace( /\"/g, '&aquot;' ).replace( /\\n/g, '<br/>' );\n\t} else {\n\t\treturn string.replace( /<br\\/>/g, '\\n' ).replace( /&aquot;/g, '\"' );\n\t}\n};\n\nconst linksTouch = new Map();\nconst linksExpanded = new WeakMap();\n$( 'body' ).bind( 'click touch', event => {\n\tlinksTouch.forEach((touch, link) => {\n\t\tconst $link = $(link);\n\t\tif ( 0 === $( event.target ).closest( $link ).length ) {\n\t\t\tlinksExpanded.set( link, false );\n\t\t\t$link.triggerHandler( 'responsiveout' );\n\t\t}\n\t});\n});\n\nconst qTipEventHandlers = {\n\tclick: {\n\t\tin(event){\n\t\t\tif ( linksTouch.get(this) !== 1 ) {\n\t\t\t\tevent.preventDefault();\n\t\t\t\tlinksTouch.set(this, 1);\n\t\t\t}\n\t\t},\n\t\tout(event){\n\t\t\tlinksTouch.set(this, 0);\n\t\t}\n\t},\n\tresponsive: {\n\t\ttap(event){\n\t\t\tif ( !linksExpanded.get( this ) && linksTouch.get(this) !== 0 ) {\n\t\t\t\tlinksExpanded.set( this, true );\n\t\t\t\t$(this).triggerHandler( 'responsive' );\n\t\t\t\tevent.preventDefault();\n\t\t\t}\n\t\t},\n\t\ttouchstart(){\n\t\t\tlinksTouch.set(this, 1);\n\t\t},\n\t\ttouchend(){\n\t\t\tlinksTouch.set(this, 2);\n\t\t},\n\t\tmousein(){\n\t\t\t$(this).triggerHandler( 'responsive' );\n\t\t},\n\t\tmouseout(){\n\t\t\t$(this).triggerHandler( 'responsiveout' );\n\t\t}\n\t},\n};\n\n\nconst doTipRender = function doTipRender(renderFcts, props, event, api ) {\n\t$( this ).css({\n\t\tmaxWidth: props.maxWidth,\n\t});\n\t$( this ).prop( 'animation_duration', props.animDuration );\n\trenderFcts.forEach(renderFct =>renderFct.call(this, event, api ));\n\tif ( itg.renderHooks ) {\n\t\titg.renderHooks.forEach(hook =>hook.call(this, event, api ));\n\t}\n};\nconst getRedimInfos = element => {\n\tif ( 1 === element.length && (( 'IFRAME' === element[0].nodeName && element[0].src.match( /youtube|dailymotion/ )) || 'VIDEO' === element[0].nodeName )) {\n\t\treturn redimVid( element );\n\t} else {\n\t\titg.warn( 'Not an IFRAME from youtube OR a VIDEO', element );\n\t}\n};\nconst bindLockOnPinClick = ( event, api ) => {\n\t// Grab the tooltip element from the API elements object\n\t// Notice the 'tooltip' prefix of the event name!\n\tapi.elements.title.find( `.itg_pin_container` ).click( function clickPinKeepOpen() {\n\t\tif ( $( this ).toggleClass( 'pined' ).hasClass( 'pined' )) {\n\t\t\tapi.disable();\n\t\t} else {\n\t\t\tapi.enable();\n\t\t}\n\t});\n};\n\nconst defaultComonTipOptions = {\n\tprerender: false,\n\tsuppress:  false,\n\tposition:  {\n\t\tviewport:  $( 'body' ),       // Keep the tooltip on-screen at all times\n\t\teffect:    false,           // Disable positioning animation\n\t\tcontainer: $tooltipsContainer,\n\t},\n\tshow: {\n\t\tsolo:   true, // Only show one tooltip at a time\n\t},\n\thide: {\n\t\tleave:  false,\n\t},\n};\n\n/**\n * @function doInitTooltips\n * @description Init all tooltips\n * @returns {undefined}\n * @author Gerkin\n */\nitg.doInitTooltips = () => {\n\tconst evts = {\n\t\tstart: ithoughts.isIos ? 'mousedown' : 'touchstart',\n\t\tend:   ithoughts.isIos ? 'mouseup' : 'touchend',\n\t};\n\tif ( ithoughts.isIos )\t\t\t{\n\t\t$( 'body' ).css({\n\t\t\tcursor: 'pointer',\n\t\t});\n\t}\n\n\t// Get all tooltips spans\n\tconst $tooltipLinks = $( types.map( type => `a.itg-${ type }`).join( ',' ));\n\titg.log( 'Having following elements to init tooltpis on: ', $tooltipLinks );\n\n\t$tooltipLinks.each( (index, tooltipLink) => {\n\t\tconst takeAttr = comon.generateTakeAttr(tooltipLink);\n\t\t// ## Init tooltip\n\t\tconst $tooltipLink = $( tooltipLink );\n\n\t\tconst renderFcts = [];\n\t\tconst qTipConfigComponents = [];\n\n\t\t/* Use provided data or use the default settings */\n\t\tconst qtiptrigger = takeAttr( 'qtiptrigger', itg.qtiptrigger);\n\t\tqTipConfigComponents.push({\n\t\t\tshow: { event:  qtiptrigger },\n\t\t\thide: { event:  ( 'responsive' === qtiptrigger ) ? 'responsiveout' : 'mouseleave' },\n\t\t});\n\t\tif ( 'click' === qtiptrigger ) {\n\t\t\t$tooltipLink\n\t\t\t\t.click( qTipEventHandlers.click.in )\n\t\t\t\t.mouseleave( qTipEventHandlers.click.out );\n\t\t} else if ( 'responsive' === qtiptrigger ) {\n\t\t\tlinksTouch.set(tooltipLink, ithoughts.baseTouch);\n\t\t\t//Detect touch/click out\n\t\t\t$tooltipLink\n\t\t\t\t.click( qTipEventHandlers.responsive.tap )\n\t\t\t\t.bind( evts.start, qTipEventHandlers.responsive.touchstart )\n\t\t\t\t.bind( evts.end, qTipEventHandlers.responsive.touchend )\n\t\t\t\t.bind( 'mouseover focus', qTipEventHandlers.responsive.mousein )\n\t\t\t\t.bind( 'mouseleave focusout', qTipEventHandlers.responsive.mouseout );\n\t\t}\n\n\t\tqTipConfigComponents.push({\n\t\t\tshow: {\n\t\t\t\teffect: comon.get(itg.animationFunctions.in, [takeAttr('animation_in', 'none')], itg.animationFunctions.in.none),\n\t\t\t},\n\t\t\thide: {\n\t\t\t\teffect: comon.get(itg.animationFunctions.out, [takeAttr('animation_out', 'none')], itg.animationFunctions.in.none),\n\t\t\t},\n\t\t});\n\n\t\tconst tipStyle = takeAttr('tip-style', itg.qtipstyle);\n\t\tconst classes = takeAttr('tip-classes', '');\n\t\tconst tipShadow = takeAttr('tip-shadow', itg.qtipshadow);\n\t\tconst tipRounded = takeAttr('tip-rounded', itg.qtiprounded);\n\n\t\tqTipConfigComponents.push({\n\t\t\tposition:  {\n\t\t\t\tat: takeAttr( 'position-at', 'top center'), // Position the tooltip above the link\n\t\t\t\tmy: takeAttr( 'position-my', 'bottom center'),// The tip corner goes down\n\t\t\t},\n\t\t\tevents: {\n\t\t\t\trender: doTipRender.bind(null, renderFcts, {\n\t\t\t\t\tmaxWidth: takeAttr('tip-maxwidth'),\n\t\t\t\t\tanimDuration: takeAttr('anim-duration', itg.anims.duration),\n\t\t\t\t}),\n\t\t\t},\n\t\t});\n\n\t\tlet title = takeAttr('title', tooltipLink.textContent);\n\t\tlet content;\n\t\tconst tipClasses = classes.split(/\\s+/).concat([\n\t\t\t`qtip-${ tipStyle }`,\n\t\t\ttipShadow ? 'qtip-shadow' : false,\n\t\t\ttipRounded ? ' qtip-rounded' : false,\n\t\t]);\n\n\t\tif ( $tooltipLink.hasClass( 'itg-glossary' )) {\n\t\t\t// ### Glossary tips\n\t\t\titg.info( 'Do init a GLOSSARYTIP' );\n\t\t\ttipClasses.push('itg-glossary');\n\t\t\tconst contenttype = takeAttr('glossary-contenttype', itg.contenttype);\n\t\t\tif(contenttype !== 'off'){\n\t\t\t\tconst glossaryId = takeAttr('glossary-id');\n\t\t\t\tconst glossaryContent = takeAttr('glossary-content');\n\t\t\t\tif (!isNA(glossaryId) ) {\n\t\t\t\t\t// Define the `ajaxPostData` that will be used bellow to send the request to the API\n\t\t\t\t\tconst ajaxPostData = {\n\t\t\t\t\t\taction:      'ithoughts_tt_gl_get_term_details',\n\t\t\t\t\t\tcontent:     contenttype,\n\t\t\t\t\t\tglossaryId:  glossaryId,\n\t\t\t\t\t\t_ajax_nonce: itg.nonce,\n\t\t\t\t\t};\n\t\t\t\t\t// If WPML is installed, the tooltip editor allow the user to check the *disable auto translation* option, and this option should be used when querying the API\n\t\t\t\t\tif ( 'true' === takeAttr( 'disable_auto_translation' )){\n\t\t\t\t\t\tajaxPostData['disable_auto_translation'] = true;\n\t\t\t\t\t}\n\t\t\t\t\t// #### Load via Ajax\n\t\t\t\t\tcontent = itg.lang.qtip.pleasewait_ajaxload.content,\n\t\t\t\t\t\tqTipConfigComponents.push({ content: {\n\t\t\t\t\t\t\tajax: {\n\t\t\t\t\t\t\t\t// Use the [admin_ajax](http://www.google.com) endpoint provided by wordpress\n\t\t\t\t\t\t\t\turl:     itg.admin_ajax,\n\t\t\t\t\t\t\t\ttype:    'GET',\n\t\t\t\t\t\t\t\t// `ajaxPostData` was defined [above](#)\n\t\t\t\t\t\t\t\tdata:    ajaxPostData,\n\t\t\t\t\t\t\t\tloading: false,\n\t\t\t\t\t\t\t\t// Display the received content on success, or `Error`\n\t\t\t\t\t\t\t\tsuccess: function success( resp ) {\n\t\t\t\t\t\t\t\t\tif ( resp.data && resp.data.refresh_nonce ) {\n\t\t\t\t\t\t\t\t\t\titg.nonce = resp.data.refresh_nonce;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tif ( resp.success ) {\n\t\t\t\t\t\t\t\t\t\tthis.set( 'content.title', resp.data.title );\n\t\t\t\t\t\t\t\t\t\tthis.set( 'content.text',  resp.data.content );\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tthis.set( 'content.text', 'Error' );\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t}});\n\t\t\t\t} else if ( !isNA(glossaryContent)) {\n\t\t\t\t\t// #### Static term\n\t\t\t\t\tcontent = glossaryContent;\n\t\t\t\t}\n\t\t\t}\n\t\t} else if ( $tooltipLink.hasClass( `itg-tooltip` )) {\n\t\t\t// ### Tooltip\n\t\t\titg.info( 'Do init a TOOLTIP' );\n\t\t\ttipClasses.push('itg-tooltip');\n\t\t\tcontent = itg.replaceQuotes( takeAttr( 'tooltip-content', '' ), false );\n\t\t} else if ( $tooltipLink.hasClass( `itg-mediatip` )) {\n\t\t\t// ### Mediatip\n\t\t\titg.info( 'Do init a MEDIATIP' );\n\t\t\ttipClasses.push('itg-mediatip');\n\t\t\tqTipConfigComponents.push({\n\t\t\t\tposition: {\n\t\t\t\t\tadjust: {\n\t\t\t\t\t\tscroll: false,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\tevents: {\n\t\t\t\t\tshow(){\n\t\t\t\t\t\t$tooltipLink.qtip().reposition();\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t});\n\n\t\t\tconst type = takeAttr('mediatip-type', false);\n\t\t\tconst source = takeAttr('mediatip-source');\n\n\t\t\tconst caption = takeAttr('mediatip-caption', '');\n\t\t\tif ( caption ) {\n\t\t\t\tcontent = `<div class=\"ithoughts_tt_gl-caption\">${ itg.replaceQuotes(caption, false) }</div>`;\n\t\t\t}\n\n\t\t\tswitch(type){\n\t\t\t\tcase 'localimage':\n\t\t\t\tcase 'webimage':{\n\t\t\t\t\t// #### Image\n\t\t\t\t\tconst attrs = new OptArray({\n\t\t\t\t\t\tsrc: source,\n\t\t\t\t\t\talt: title,\n\t\t\t\t\t});\n\t\t\t\t\tconst filters = comon.get(itg, ['qtip_filters', 'mediatip'], []);\n\t\t\t\t\tfilters.forEach(filter => {\n\t\t\t\t\t\textend( attrs.opts, filter.call( attrs.opts ));\n\t\t\t\t\t});\n\n\t\t\t\t\tcontent = `<img ${ attrs.toString() }>${content}`;\n\t\t\t\t} break;\n\n\t\t\t\tcase 'webvideo':{\n\t\t\t\t\tconst replacedText = itg.replaceQuotes(comon.htmlDecode(source).trim(), false);\n\t\t\t\t\tconst $video = $( $.parseHTML( replacedText ));\n\t\t\t\t\tconst redimedInfos = getRedimInfos( $video );\n\t\t\t\t\trenderFcts.push(bindLockOnPinClick);\n\t\t\t\t\tconsole.log(redimedInfos);\n\t\t\t\t\t// #### Iframe / HTML\n\t\t\t\t\tcontent = `${redimedInfos['text']}${content}`;\n\t\t\t\t\ttitle = `<span class=\"itg_pin_container\"><svg viewBox=\"0 0 26 26\" class=\"itg_pin\"><use xlink:href=\"#icon-pin\"></use></svg></span><span class=\"ithoughts_tt_gl-title_with_pin\">${ title }</span>`\n\t\t\t\t\tqTipConfigComponents.push({ style: {\n\t\t\t\t\t\twidth: redimedInfos['dims']['width'],\n\t\t\t\t\t}});\n\t\t\t\t\ttipClasses.push('itg-mediatip', 'ithoughts_tt_gl-force_no_pad', 'ithoughts_tt_gl-video_tip', 'ithoughts_tt_gl-with_pin');\n\t\t\t\t} break;\n\t\t\t}\n\t\t} else {\n\t\t\treturn;\n\t\t}\n\n\t\t// ## Override defaults\n\t\tif ( 'true' === $tooltipLink.data( 'tip-autoshow' )) {\n\t\t\tqTipConfigComponents.push({ show: {\n\t\t\t\tready: true,\n\t\t\t}});\n\t\t}\n\t\tif ( 'true' === $tooltipLink.data( 'tip-nosolo' )) {\n\t\t\t\t\tqTipConfigComponents.push({ show: {\n\t\t\t\t\tsolo: false,\n\t\t\t\t}});\n\t\t}\n\t\tif ( 'true' === $tooltipLink.data( 'tip-nohide' )) {\n\t\t\t\t\tqTipConfigComponents.push({\n\t\t\t\thide: 'someevent',\n\t\t\t\tshow: {\n\t\t\t\t\tevent: 'someevent',\n\t\t\t\t},\n\t\t\t});\n\t\t}\n\t\tif ( $tooltipLink.data( 'tip-id' )) {\n\t\t\t\t\tqTipConfigComponents.push({  id: $tooltipLink.data( 'tip-id' ) });\n\t\t}\n\t\tif ( $tooltipLink.data( 'qtip-keep-open' ) || $tooltipLink.hasClass( `itg-mediatip` )) {\n\t\t\t\t\tqTipConfigComponents.push({ hide: {\n\t\t\t\t\tfixed: true,\n\t\t\t\t\tdelay: 250,\n\t\t\t\t}});\n\t\t}\n\t\tif ( 'true' === $tooltipLink.data( 'tip-prerender' )) {\n\t\t\t\t\tqTipConfigComponents.push({ \n\t\t\t\tprerender: true,\n\t\t\t});\n\t\t}\n\n\t\tconst tooltipOpts = extend( true, {}, ...qTipConfigComponents, {\n\t\t\tcontent: {\n\t\t\t\ttitle,\n\t\t\t\ttext: content\n\t\t\t},\n\t\t\tstyle: {\n\t\t\t\tclasses: tipClasses.filter(v => !!v).join(' '),\n\t\t\t},\n\t\t} );\n\t\t\n\t\titg.log('Final tooltip options: ', tooltipLink, tooltipOpts);\n\n\t\t$tooltipLink.qtip( tooltipOpts );\n\n\t\t//Remove title for tooltip, causing double tooltip\n\t\t$tooltipLink.removeAttr( 'title' );\n\t});\n};\n\nfunction dom2string( who ) {\n\tvar tmp = $( document.createElement( 'div' ));\n\t$( tmp ).append( $( who ));\n\ttmp = tmp.html();\n\treturn tmp;\n}\n\n$w.resize( function waitStopRedimVideoRedim() {\n\tclearTimeout( redimWait );\n\tredimWait = setTimeout( redimVid, 100 );\n});\nfunction redimVid( video ) {\n\tvar h = $w.height(),\n\t\tw = $w.width(),\n\t\ti = 0,\n\t\tdims = [[ 512, 288 ], [ 256, 144 ]],\n\t\tl = dims.length;\n\tfor ( ;i < l;i++ ) {\n\t\tif ( w > dims[i][0] && h > dims[i][1]) {\n\t\t\tbreak;\n\t\t}\n\t}\n\ti = Math.min( dims.length, Math.max( 0, i ));\n\tvar optDims = dims[i];\n\tif ( 'undefined' === typeof video && typeof optDims !== 'undefined' ) {\n\t\t$( '.ithoughts_tt_gl-video' ).prop({\n\t\t\twidth:  optDims[0],\n\t\t\theight: optDims[1],\n\t\t});\n\t\t$( '.ithoughts_tt_gl-video_tip' ).each( function replaceVideoTip() {\n\t\t\tvar api = $( this ).qtip( 'api' );/**/\n\t\t\tvar state = api.disabled;\n\t\t\tapi.enable();/**/\n\t\t\tapi.reposition();/**/\n\t\t\tapi.disable( state );/**/\n\t\t}).css({\n\t\t\twidth:  optDims[0],\n\t\t\theight: optDims[1],\n\t\t});\n\t} else if ( !ithoughts.isNA( video )) {\n\t\tvideo.prop({\n\t\t\twidth:  optDims[0],\n\t\t\theight: optDims[1],\n\t\t}).addClass( 'ithoughts_tt_gl-video' );\n\t\treturn {\n\t\t\tdims: {\n\t\t\t\twidth:  optDims[0],\n\t\t\t\theight: optDims[1],\n\t\t\t},\n\t\t\ttext: dom2string( video ),\n\t\t};\n\t}\n}\n\n$d.ready( function onDocumentReady() {\n\titg.doInitTooltips();\n});\n\nextend( $.easing, {\n\t/**\n\t\t * @function easeInBack\n\t\t * @memberof jQuery.easing\n\t\t * @description jQuery-UI easeInBack easing function\n\t\t * @author jQuery\n\t\t * @param   {number} x(unknown)\n\t\t * @param   {number} t Current time\n\t\t * @param   {number} b Time of begin\n\t\t * @param   {number} c Direction (must be 1 or -1)\n\t\t * @param   {number} d Duration\n\t\t * @param   {number} s (unknown)\n\t\t * @returns {number} Value ponderated\n\t\t */\n\teaseInBack: function easeInBack( x, t, b, c, d, s ) {\n\t\tif ( null == s ) {\n\t\t\ts = 1.70158;\n\t\t}\n\t\treturn c * ( t /= d ) * t * (( s + 1 ) * t - s ) + b;\n\t},\n\t/**\n\t\t * @function easeOutBack\n\t\t * @memberof jQuery.easing\n\t\t * @description jQuery-UI easeOutBack easing function\n\t\t * @author jQuery\n\t\t * @param   {number} x(unknown)\n\t\t * @param   {number} t Current time\n\t\t * @param   {number} b Time of begin\n\t\t * @param   {number} c Direction (must be 1 or -1)\n\t\t * @param   {number} d Duration\n\t\t * @param   {number} s (unknown)\n\t\t * @returns {number} Value ponderated\n\t\t */\n\teaseOutBack: function easeOutBack( x, t, b, c, d, s ) {\n\t\tif ( null == s ) {\n\t\t\ts = 1.70158;\n\t\t}\n\t\treturn c * (( t = t / d - 1 ) * t * (( s + 1 ) * t + s ) + 1 ) + b;\n\t},\n});\n\n// ------\n// ## Definition of default animations\n\nitg.animationFunctions = extend( true, itg.animationFunctions, {\n\tin: {\n\t\t/**\n\t\t\t * @function none\n\t\t\t * @description Makes the tip appear without any transition\n\t\t\t * @memberof ithoughts_tooltip_glossary.anim.in\n\t\t\t * @param {QTip} qtip Tooltip provided by qTip call\n\t\t\t * @returns {undefined}\n\t\t\t * @author Gerkin\n\t\t\t */\n\t\tnone: function none() {\n\t\t\t$( this ).show();\n\t\t},\n\t\t/**\n\t\t\t * @function zoomin\n\t\t\t * @description Zoom on the tip: at start, it is invisible because small, at end, it is at normal size\n\t\t\t * @memberof ithoughts_tooltip_glossary.anim.in\n\t\t\t * @param {QTip} qtip Tooltip provided by qTip call\n\t\t\t * @returns {undefined}\n\t\t\t * @author Gerkin\n\t\t\t */\n\t\tzoomin: function zoomin( qtip ) {\n\t\t\tvar $tooltip = $( this ),\n\t\t\t\t$tip = qtip.elements.tip;\n\t\t\t$tooltip.prop( 'scale_start', $tooltip.prop( 'scale' ) || 0 );\n\t\t\t$tooltip.show().animate({\n\t\t\t\tz: 1,\n\t\t\t}, {\n\t\t\t\tprogress: function progress( infos, percent, timeLeft ) {\n\t\t\t\t\tvar factorProgress = $.easing.swing( percent, infos.duration - timeLeft, 0, 1, infos.duration ),\n\t\t\t\t\t\torigFactor = $tooltip.prop( 'scale_start' ) * ( 1 - factorProgress ),\n\t\t\t\t\t\tdestFactor = 1 * factorProgress,\n\t\t\t\t\t\tscale = origFactor + destFactor;\n\t\t\t\t\tif ( scale !== 1 && scale !== 0 )\t\t\t\t\t\t\t{\n\t\t\t\t\t\t$tooltip.prop( 'scale', scale );\n\t\t\t\t\t}\n\t\t\t\t\tvar advance = `scale(${ scale })`,\n\t\t\t\t\t\torigin = $tip.css([ 'left', 'top' ]);\n\t\t\t\t\torigin = `${ origin.left  } ${  origin.top  } 0`;\n\t\t\t\t\t$tooltip.css({\n\t\t\t\t\t\t'-webkit-transform':        advance,\n\t\t\t\t\t\t'-moz-transform':           advance,\n\t\t\t\t\t\t'transform':                advance,\n\t\t\t\t\t\t'-ms-transform-origin':     origin,\n\t\t\t\t\t\t'-webkit-transform-origin': origin,\n\t\t\t\t\t\t'transform-origin':         origin,\n\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t\tduration: $tooltip.prop( 'animation_duration' ),\n\t\t\t\tdone:     function done( promise, killed ) {\n\t\t\t\t\tif ( isNA( killed ) || !killed ) {\n\t\t\t\t\t\t$tooltip.prop( 'scale', null );\n\t\t\t\t\t\t$tooltip.css({\n\t\t\t\t\t\t\t'-webkit-transform':        '',\n\t\t\t\t\t\t\t'-moz-transform':           '',\n\t\t\t\t\t\t\t'transform':                '',\n\t\t\t\t\t\t\t'-ms-transform-origin':     '',\n\t\t\t\t\t\t\t'-webkit-transform-origin': '',\n\t\t\t\t\t\t\t'transform-origin':         '',\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t\t * @function appear\n\t\t\t * @description Simple opacity transition\n\t\t\t * @memberof ithoughts_tooltip_glossary.anim.in\n\t\t\t * @param {QTip} qtip Tooltip provided by qTip call\n\t\t\t * @returns {undefined}\n\t\t\t * @author Gerkin\n\t\t\t */\n\t\tappear: function appear() {\n\t\t\tvar $tooltip = $( this );\n\t\t\t$tooltip.css({\n\t\t\t\tdisplay: 'block',\n\t\t\t\topacity: 0,\n\t\t\t}).animate({\n\t\t\t\topacity: 1,\n\t\t\t}, {\n\t\t\t\teasing:   'swing',\n\t\t\t\tduration: $tooltip.prop( 'animation_duration' ),\n\t\t\t});\n\t\t},\n\t},\n\tout: {\n\t\t/**\n\t\t\t * @function none\n\t\t\t * @description Makes the tip disappear without any transition\n\t\t\t * @memberof ithoughts_tooltip_glossary.anim.out\n\t\t\t * @param {QTip} qtip Tooltip provided by qTip call\n\t\t\t * @returns {undefined}\n\t\t\t * @author Gerkin\n\t\t\t */\n\t\tnone:   function none() {},\n\t\t/**\n\t\t\t * @function unhook\n\t\t\t * @description Makes the tip go a bit up then down with transparency\n\t\t\t * @memberof ithoughts_tooltip_glossary.anim.out\n\t\t\t * @param {QTip} qtip Tooltip provided by qTip call\n\t\t\t * @returns {undefined}\n\t\t\t * @author Gerkin\n\t\t\t */\n\t\tunhook: function unhook() {\n\t\t\tvar $tooltip = $( this );\n\t\t\t$tooltip.animate({\n\t\t\t\topacity: 0,\n\t\t\t\ttop:     '+=50',\n\t\t\t}, {\n\t\t\t\teasing:   'easeInBack',\n\t\t\t\tduration: $tooltip.prop( 'animation_duration' ),\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t\t * @function flee\n\t\t\t * @description Go a bit to right, then fast to left\n\t\t\t * @memberof ithoughts_tooltip_glossary.anim.out\n\t\t\t * @param {QTip} qtip Tooltip provided by qTip call\n\t\t\t * @returns {undefined}\n\t\t\t * @author Gerkin\n\t\t\t */\n\t\tflee: function flee() {\n\t\t\tvar $tooltip = $( this );\n\t\t\t$tooltip.animate({\n\t\t\t\topacity: 0,\n\t\t\t\tleft:    -100,\n\t\t\t}, {\n\t\t\t\teasing:   'easeInBack',\n\t\t\t\tduration: $tooltip.prop( 'animation_duration' ),\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t\t * @function zoomout\n\t\t\t * @description Reduces the size of the tip until 0\n\t\t\t * @memberof ithoughts_tooltip_glossary.anim.out\n\t\t\t * @param {QTip} qtip Tooltip provided by qTip call\n\t\t\t * @returns {undefined}\n\t\t\t * @author Gerkin\n\t\t\t */\n\t\tzoomout: function zoomout( qtip ) {\n\t\t\tvar $tooltip = $( this ),\n\t\t\t\t$tip = qtip.elements.tip;\n\t\t\t$tooltip.prop( 'scale_start', $tooltip.prop( 'scale' ) || 1 );\n\t\t\t$tooltip.animate({\n\t\t\t\tz: 1,\n\t\t\t}, {\n\t\t\t\tprogress: function progress( infos, percent, timeLeft ) {\n\t\t\t\t\tvar factorProgress = $.easing.swing( percent, infos.duration - timeLeft, 0, 1, infos.duration ),\n\t\t\t\t\t\torigFactor = $tooltip.prop( 'scale_start' ) * ( 1 - factorProgress ),\n\t\t\t\t\t\tdestFactor = 0,\n\t\t\t\t\t\tscale = origFactor + destFactor;\n\t\t\t\t\tif ( scale !== 1 && scale !== 0 )\t\t\t\t\t\t\t{\n\t\t\t\t\t\t$tooltip.prop( 'scale', scale );\n\t\t\t\t\t}\n\t\t\t\t\tvar advance = `scale(${ scale })`,\n\t\t\t\t\t\torigin = $tip.css([ 'left', 'top' ]);\n\t\t\t\t\torigin = `${ origin.left  } ${  origin.top  } 0`;\n\t\t\t\t\t$tooltip.css({\n\t\t\t\t\t\t'-webkit-transform':        advance,\n\t\t\t\t\t\t'-moz-transform':           advance,\n\t\t\t\t\t\t'transform':                advance,\n\t\t\t\t\t\t'-ms-transform-origin':     origin,\n\t\t\t\t\t\t'-webkit-transform-origin': origin,\n\t\t\t\t\t\t'transform-origin':         origin,\n\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t\tduration: $tooltip.prop( 'animation_duration' ),\n\t\t\t\tdone:     function done( promise, killed ) {\n\t\t\t\t\tif ( isNA( killed ) || !killed ) {\n\t\t\t\t\t\t$tooltip.prop( 'scale', null );\n\t\t\t\t\t\t$tooltip.css({\n\t\t\t\t\t\t\t'-webkit-transform':        '',\n\t\t\t\t\t\t\t'-moz-transform':           '',\n\t\t\t\t\t\t\t'transform':                '',\n\t\t\t\t\t\t\t'-ms-transform-origin':     '',\n\t\t\t\t\t\t\t'-webkit-transform-origin': '',\n\t\t\t\t\t\t\t'transform-origin':         '',\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t\t * @function disappear\n\t\t\t * @description Simple opacity transition\n\t\t\t * @memberof ithoughts_tooltip_glossary.anim.out\n\t\t\t * @param {QTip} qtip Tooltip provided by qTip call\n\t\t\t * @returns {undefined}\n\t\t\t * @author Gerkin\n\t\t\t */\n\t\tdisappear: function disappear() {\n\t\t\tvar $tooltip = $( this );\n\t\t\t$tooltip.animate({\n\t\t\t\topacity: 0,\n\t\t\t}, {\n\t\t\t\teasing:   'swing',\n\t\t\t\tduration: $tooltip.prop( 'animation_duration' ),\n\t\t\t});\n\t\t},\n\t},\n});\n\n},{\"./comon\":1,\"./optarray\":3}],3:[function(require,module,exports){\n'use strict';\n\nconst {replaceQuotes} = iThoughtsTooltipGlossary;\nconst {isNA} = iThoughts.v5;\n\nclass OptArray{\n\tconstructor(opts){\n\t\tthis.opts = {};\n\t\tfor(const key in opts){\n\t\t\tthis.addOpt(key, opts[key]);\n\t\t}\n\t}\n\n\tstatic generateAttr( label, value ) {\n\t\treturn `${ label }=\"${ value }\"`;\n\t}\n\n\taddOpt(label, value, specEncode = false){\n\t\tlabel = replaceQuotes( label.trim(), true );\n\t\tif ( !label.match( /^[\\w_\\-]*$/ )) {\n\t\t\treturn this;\n\t\t}\n\n\t\tvalue = String( value ).trim();\n\t\tvalue = (!isNA( specEncode ) && specEncode ? value.replace( /\"/g, '&aquot;' ).replace( /\\n/g, '<br/>' ) : replaceQuotes( value, true ));\n\n\t\tthis.opts[label] = value;\n\t}\n\n\tmaybeAddOpt(addValue, name, value){\n\t\tif ( addValue ) {\n\t\t\tthis.addOpt( name, value);\n\t\t}\n\t}\n\n\ttoString(){\n\t\treturn Object.keys(this.opts).map(key => OptArray.generateAttr(key, this.opts[key])).join(' ');\n\t}\n}\n\nmodule.exports = OptArray;\n},{}]},{},[2]);\n"]}