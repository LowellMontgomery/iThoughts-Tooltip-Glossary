/*! ithoughts-tooltip-glossary build on 2017-12-14 01:57:39 for v3.0.2 */
"use strict";function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c||a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){var d=["href","title"],e=function(a){return d.includes(a)||a.startsWith("data-")?a:" data-"+a},f=function(a){var b={};return Array.prototype.slice.call(a.attributes,0).forEach(function(a){b[a.nodeName]=a.nodeValue}),b},g=function(a){return a.tagName&&(a=f(a)),function(b,c){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2]||(b=e(b)),a.hasOwnProperty(b)){var d=a[b];return delete a[b],d}return c}},h=function(a,b,c){var d=!1;return b.forEach(function(b){void 0!==a&&a.hasOwnProperty(b)?a=a[b]:d=!0}),d?c:a},i=function(a){return"string"==typeof a&&("1"===a||"true"===a.toLowerCase())||"number"==typeof a&&a>0},j=function(a){return $("<textarea />").text(a).html()},k=function(a){return $("<textarea />").html(a).text()};b.exports={maybePrefixAttribute:e,extractAttrs:f,generateTakeAttr:g,get:h,isTrueValue:i,htmlEncode:j,htmlDecode:k}},{}],2:[function(a,b,c){function d(a){var b=j(document.createElement("div"));return j(b).append(j(a)),b=b.html()}function e(a){for(var b=k.height(),c=k.width(),e=0,f=[[512,288],[256,144]],g=f.length;e<g&&!(c>f[e][0]&&b>f[e][1]);e++);e=Math.min(f.length,Math.max(0,e));var i=f[e];if(void 0===a&&void 0!==i)j(".ithoughts_tt_gl-video").prop({width:i[0],height:i[1]}),j(".ithoughts_tt_gl-video_tip").each(function(){var a=j(this).qtip("api"),b=a.disabled;a.enable(),a.reposition(),a.disable(b)}).css({width:i[0],height:i[1]});else if(!h.isNA(a))return a.prop({width:i[0],height:i[1]}).addClass("ithoughts_tt_gl-video"),{dims:{width:i[0],height:i[1]},text:d(a)}}var f=a("./comon"),g=a("./optarray"),h=iThoughts.v5,i=iThoughtsTooltipGlossary,j=h.$,k=h.$w,l=h.$d,m=h.isNA,n=j.extend,o=j(j.parseHTML('<div id="itg-tipsContainer" class="itg-tipsContainer"></div>'));j(document.body).append(o);var p=["glossary","tooltip","mediatip"],q=void 0;h.initLoggers(i,"iThoughts Tooltip Glossary",i.verbosity),i.replaceQuotes=function(a,b){return"string"!=typeof a?"":b?a.replace(/"/g,"&aquot;").replace(/\n/g,"<br/>"):a.replace(/<br\/>/g,"\n").replace(/&aquot;/g,'"')};var r=new WeakMap,s=new WeakMap;j("body").bind("click touch",function(a){r.forEach(function(b){var c=j(b);0===j(a.target).closest(c).length&&(s.set(b,!1),c.triggerHandler("responsiveout"))})});var t={click:{in:function(a){1!==r.get(this)&&(a.preventDefault(),r.set(this,1))},out:function(a){r.set(this,0)}},responsive:{tap:function(a){s.get(this)||0===r.get(this)||(s.set(this,!0),j(this).triggerHandler("responsive"),a.preventDefault())},touchstart:function(){r.set(this,1)},touchend:function(){r.set(this,2)},mousein:function(){j(this).triggerHandler("responsive")},mouseout:function(){j(this).triggerHandler("responsiveout")}}},u=function(a,b,c){var d=this;console.log(this,arguments),j(this).css({maxWidth:a.maxWidth}),j(this).prop("animation_duration",a.animDuration),renderFcts.forEach(function(a){return a.call(d,b,c)}),i.renderHooks&&i.renderHooks.forEach(function(a){return a.call(d,b,c)})};j("body");i.doInitTooltips=function(){var a={start:h.isIos?"mousedown":"touchstart",end:h.isIos?"mouseup":"touchend"};h.isIos&&j("body").css({cursor:"pointer"});var b=j(p.map(function(a){return"a.itg-"+a}).join(","));i.log("Having following elements to init tooltpis on: ",b),b.each(function(b,c){var d=f.generateTakeAttr(c),k=j(c),l=[],o=d("qtiptrigger",i.qtiptrigger);l.push({show:{event:o},hide:{event:"responsive"===o?"responsiveout":"mouseleave"}}),"click"===o?k.click(t.click.in).mouseleave(t.click.out):"responsive"===o&&(r.set(c,h.baseTouch),k.click(t.responsive.tap).bind(a.start,t.responsive.touchstart).bind(a.end,t.responsive.touchend).bind("mouseover focus",t.responsive.mousein).bind("mouseleave focusout",t.responsive.mouseout)),l.push({show:{effect:f.get(i.animationFunctions.in,[d("animation_in","none")],i.animationFunctions.in.none)},hide:{effect:f.get(i.animationFunctions.out,[d("animation_out","none")],i.animationFunctions.in.none)}});var p=d("tip-style",i.qtipstyle),q=d("tip-classes",""),s=d("tip-shadow",i.qtipshadow),v=d("tip-rounded",i.qtiprounded),w=q.split(/\s+/).concat(["qtip-"+p,!!s&&"qtip-shadow",!!v&&" qtip-rounded"]).join(" ");l.push({style:{classes:w}});var x=d("title",c.textContent);if(l.push({position:{at:d("position-at","top center"),my:d("position-my","bottom center")},content:{title:{text:x}},events:{render:u.bind(null,{maxWidth:d("tip-maxwidth"),animDuration:d("anim-duration",i.anims.duration)})}}),k.hasClass("itg-glossary")){i.info("Do init a GLOSSARYTIP"),l.push({style:{classes:w+" itg-glossary"}});var y=d("glossary-contenttype",i.contenttype);if("off"!==y){var z=d("glossary-id"),A=d("glossary-content");if(m(z))m(A)||l.push({content:{text:A}});else{var B={action:"ithoughts_tt_gl_get_term_details",content:y,glossaryId:z,_ajax_nonce:i.nonce};"true"===d("disable_auto_translation")&&(B.disable_auto_translation=!0),l.push({content:{text:i.lang.qtip.pleasewait_ajaxload.content,ajax:{url:i.admin_ajax,type:"GET",data:B,loading:!1,success:function(a){a.data&&a.data.refresh_nonce&&(i.nonce=a.data.refresh_nonce),a.success?(this.set("content.title",a.data.title),this.set("content.text",a.data.content)):this.set("content.text","Error")}}}})}}}else if(k.hasClass("itg-tooltip"))i.info("Do init a TOOLTIP"),l.push({style:{classes:w+" itg-tooltip"},content:{text:i.replaceQuotes(d("tooltip-content",""),!1)}});else{if(!k.hasClass("itg-mediatip"))return;i.info("Do init a MEDIATIP"),l.push({style:{classes:w+"itg-mediatip"},position:{adjust:{scroll:!1}},events:{show:function(){k.qtip().reposition()}}});var C=d("mediatip-type",!1),D=d("mediatip-source"),E=d("mediatip-caption",""),F=void 0;switch(E&&(F='<div class="ithoughts_tt_gl-caption">'+i.replaceQuotes(E,!1)+"</div>"),C){case"localimage":var G=new g({src:D,alt:x}),H=f.get(i,["qtip_filters","mediatip"],[]);H.forEach(function(a){n(G.opts,a.call(G.opts))}),F="<img "+G.toString()+">"+F}if(k.data("mediatip-image"));else if(k.data("mediatip-html")){var I=i.replaceQuotes(f.htmlDecode(J).trim(),!1),J=k.data("mediatip-html"),K=function(a){if(1===a.length&&("IFRAME"===a[0].nodeName&&a[0].src.match(/youtube|dailymotion/)||"VIDEO"===a[0].nodeName))return e(a);i.warn("Not an IFRAME from youtube OR a VIDEO",a)}(j(j.parseHTML(I)));renderFcts.push(function(a,b){b.elements.title.find(".itg_pin_container").click(function(){j(this).toggleClass("pined").hasClass("pined")?b.disable():b.enable()})}),n(!0,tooltipTypeSpecific,{content:{text:K.text,title:{text:'<span class="itg_pin_container"><svg viewBox="0 0 26 26" class="itg_pin"><use xlink:href="#icon-pin"></use></svg></span><span class="ithoughts_tt_gl-title_with_pin">'+tooltipTypeSpecific.content.title.text+"</span>"}},style:{width:K.dims.width}}),tooltipTypeSpecific.style.classes+=" ithoughts_tt_gl-force_no_pad ithoughts_tt_gl-video_tip ithoughts_tt_gl-with_pin"}}"true"===k.data("tip-autoshow")&&n(!0,tooltipOverrides,{show:{ready:!0}}),"true"===k.data("tip-nosolo")&&n(!0,tooltipOverrides,{show:{solo:!1}}),"true"===k.data("tip-nohide")&&n(!0,tooltipOverrides,{hide:"someevent",show:{event:"someevent"}}),k.data("tip-id")&&n(!0,tooltipOverrides,{id:k.data("tip-id")}),(k.data("qtip-keep-open")||k.hasClass("itg-mediatip"))&&n(!0,tooltipOverrides,{hide:{fixed:!0,delay:250}}),"true"===k.data("tip-prerender")&&n(!0,tooltipOverrides,{prerender:!0});var L=n(!0,tooltipComon,tooltipTypeSpecific,tooltipOverrides,qTipEvents);k.qtip(L),k.find("a[title]").removeAttr("title")})},k.resize(function(){clearTimeout(q),q=setTimeout(e,100)}),l.ready(function(){i.doInitTooltips()}),n(j.easing,{easeInBack:function(a,b,c,d,e,f){return null==f&&(f=1.70158),d*(b/=e)*b*((f+1)*b-f)+c},easeOutBack:function(a,b,c,d,e,f){return null==f&&(f=1.70158),d*((b=b/e-1)*b*((f+1)*b+f)+1)+c}}),i.animationFunctions=n(!0,i.animationFunctions,{in:{none:function(){j(this).show()},zoomin:function(a){var b=j(this),c=a.elements.tip;b.prop("scale_start",b.prop("scale")||0),b.show().animate({z:1},{progress:function(a,d,e){var f=j.easing.swing(d,a.duration-e,0,1,a.duration),g=b.prop("scale_start")*(1-f),h=1*f,i=g+h;1!==i&&0!==i&&b.prop("scale",i);var k="scale("+i+")",l=c.css(["left","top"]);l=l.left+" "+l.top+" 0",b.css({"-webkit-transform":k,"-moz-transform":k,transform:k,"-ms-transform-origin":l,"-webkit-transform-origin":l,"transform-origin":l})},duration:b.prop("animation_duration"),done:function(a,c){!m(c)&&c||(b.prop("scale",null),b.css({"-webkit-transform":"","-moz-transform":"",transform:"","-ms-transform-origin":"","-webkit-transform-origin":"","transform-origin":""}))}})},appear:function(){var a=j(this);a.css({display:"block",opacity:0}).animate({opacity:1},{easing:"swing",duration:a.prop("animation_duration")})}},out:{none:function(){},unhook:function(){var a=j(this);a.animate({opacity:0,top:"+=50"},{easing:"easeInBack",duration:a.prop("animation_duration")})},flee:function(){var a=j(this);a.animate({opacity:0,left:-100},{easing:"easeInBack",duration:a.prop("animation_duration")})},zoomout:function(a){var b=j(this),c=a.elements.tip;b.prop("scale_start",b.prop("scale")||1),b.animate({z:1},{progress:function(a,d,e){var f=j.easing.swing(d,a.duration-e,0,1,a.duration),g=b.prop("scale_start")*(1-f),h=g+0;1!==h&&0!==h&&b.prop("scale",h);var i="scale("+h+")",k=c.css(["left","top"]);k=k.left+" "+k.top+" 0",b.css({"-webkit-transform":i,"-moz-transform":i,transform:i,"-ms-transform-origin":k,"-webkit-transform-origin":k,"transform-origin":k})},duration:b.prop("animation_duration"),done:function(a,c){!m(c)&&c||(b.prop("scale",null),b.css({"-webkit-transform":"","-moz-transform":"",transform:"","-ms-transform-origin":"","-webkit-transform-origin":"","transform-origin":""}))}})},disappear:function(){var a=j(this);a.animate({opacity:0},{easing:"swing",duration:a.prop("animation_duration")})}}})},{"./comon":1,"./optarray":3}],3:[function(a,b,c){var d=iThoughtsTooltipGlossary,e=d.replaceQuotes,f=iThoughts.v5.isNA,g=function(){function a(b){_classCallCheck(this,a),this.opts={};for(var c in b)this.addOpt(c,b[c])}return _createClass(a,[{key:"addOpt",value:function(a,b){var c=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(a=e(a.trim(),!0),!a.match(/^[\w_\-]*$/))return this;b=String(b).trim(),b=!f(c)&&c?b.replace(/"/g,"&aquot;").replace(/\n/g,"<br/>"):e(b,!0),this.opts[a]=b}},{key:"maybeAddOpt",value:function(a,b,c){a&&this.addOpt(b,c)}},{key:"toString",value:function(){var b=this;return Object.keys(this.opts).map(function(c){return a.generateAttr(c,b.opts[c])}).join(" ")}}],[{key:"generateAttr",value:function(a,b){return a+'="'+b+'"'}}]),a}();b.exports=g},{}]},{},[2]);/**/